/* =======================================================================
   レスポンシブスタイル（モバイル対応）
   ======================================================================= */

/* 全体のオーバーフロー制御 */
html, body {
    overflow-x: hidden;
    max-width: 100vw;
}

/* 768px以下のデバイス（タブレット・スマートフォン） */
@media screen and (max-width: 768px) {
    body {
        padding: 66px 8px 30px 8px !important;
        box-sizing: border-box;
    }

    h1 {
        font-size: 24px;
        margin-bottom: 15px;
        word-break: break-word;
    }

    h2 {
        font-size: 18px;
    }

    .file-upload-area {
        width: 100%;
        max-width: 100%;
        padding: 25px 15px;
        font-size: 15px;
        box-sizing: border-box;
    }

    #instructions p {
        text-align: left;
        padding: 0 5px;
        font-size: 14px;
        word-break: break-word;
    }

    #instructions2 h2 {
        font-size: 16px;
    }

    #instructions2 p {
        font-size: 13px;
        line-height: 1.6;
    }

    /* フォーム要素 */
    .form-row {
        flex-direction: column;
        gap: 12px;
        align-items: stretch;
        width: 100%;
    }

    .form-row #nicknameInput.form-row-item,
    .form-row button.form-row-item {
        max-width: 100%;
        width: 100%;
    }

    /* 結果テーブル */
    #result table {
        width: 100%;
        table-layout: fixed;
    }

    #result table th,
    #result table td {
        padding: 8px 4px;
        font-size: 12px !important;
        word-break: break-word;
    }

    #result table .subjects {
        padding-left: 5px;
        font-size: 11px !important;
    }

    /* GPA表示 */
    #gpa {
        font-size: 20px !important;
    }

    /* メインコンテナ */
    .main-container {
        padding: 15px 10px;
        margin: 10px auto;
        width: 100%;
        box-sizing: border-box;
    }

    #my-rank {
        font-size: 0.9em;
        padding: 10px 12px;
    }

    /* フィルター */
    .filters {
        flex-direction: column;
        align-items: stretch;
        gap: 12px;
        width: 100%;
    }

    .filters > div {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        gap: 8px;
    }

    .filters select {
        flex: 1;
        min-width: 120px;
        max-width: 100%;
    }

    /* ランキングテーブル */
    .ranking-table {
        width: 100%;
        table-layout: fixed;
    }

    .ranking-table th,
    .ranking-table td {
        padding: 10px 4px;
        font-size: 12px;
        white-space: normal;
        word-break: break-word;
    }

    .ranking-table td:first-child,
    .ranking-table th:first-child {
        width: 40px;
        padding-left: 4px;
        padding-right: 4px;
    }

    .ranking-table td:nth-child(2),
    .ranking-table th:nth-child(2) {
        max-width: 80px;
        overflow: hidden;
        text-overflow: ellipsis;
    }

    /* ページネーション */
    .pagination-controls {
        flex-wrap: wrap;
        gap: 5px;
    }

    .pagination-controls span {
        margin: 0 4px;
    }

    .pagination-controls button {
        padding: 8px 12px;
        font-size: 12px;
    }

    /* 再履修シミュレーター */
    .selecter-row {
        flex-wrap: wrap;
        gap: 8px;
    }

    .subject-select,
    .grade-select {
        font-size: 14px;
        padding: 8px;
        max-width: 100%;
        flex: 1;
        min-width: 0;
    }

    .subject-select {
        min-width: 150px;
    }

    #repeat button {
        font-size: 12px;
        padding: 8px 14px;
    }

    /* Back link */
    .back-link {
        font-size: 0.95em;
        padding: 10px 12px;
        margin-top: 20px;
    }
}

/* 480px以下の小さいスマートフォン */
@media screen and (max-width: 480px) {
    body {
        padding: 62px 5px 20px 5px !important;
    }

    h1 {
        font-size: 20px;
    }

    .file-upload-area {
        padding: 20px 10px;
        font-size: 14px;
    }

    #result table th,
    #result table td {
        padding: 6px 3px;
        font-size: 11px !important;
    }

    #result table .subjects {
        font-size: 10px !important;
    }

    .ranking-table th,
    .ranking-table td {
        padding: 8px 3px;
        font-size: 11px;
    }

    /* ニックネーム列を省略表示 */
    .ranking-table td:nth-child(2) {
        max-width: 60px;
    }

    .selecter-row {
        flex-direction: column;
        align-items: stretch;
    }

    .subject-select,
    .grade-select {
        width: 100%;
        min-width: 0;
    }
}